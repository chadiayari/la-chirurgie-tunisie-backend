import{j as R}from"./ui-DBH1pSc7.js";import Ye from"./Nav-DeEGWY2l.js";import{_ as Te}from"./index-B-YuXKuw.js";import{r as j}from"./vendor-CFFqWigg.js";import{g as L}from"./animations-D2IpGxFF.js";import"./CustomEase-BalQB0Pv.js";const Ie=["Stillwater Entry","Desert Light","Terracotta Echo","Threshold in Clay","Stone Mirage","Sol Courtyard","Bath of Silence","Arches in Bloom","The Listening Wall","Shadow Pool","Warmed by Earth","Portal of Quiet","The Reflecting Niche","Sheltered Rhythm","Golden Passage","Air Between Walls","Sun Geometry","Rooted Space","Horizon Vault","Sand & Silence"];var K={exports:{}},Le=K.exports,Ee;function Re(){return Ee||(Ee=1,(function(A,B){(function(Y,k){k(B)})(Le,(function(Y){var k=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,ee=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,fe=Math.PI/180,U=Math.sin,P=Math.cos,G=Math.abs,D=Math.sqrt,N=function(i){return typeof i=="number"},te=1e5,c=function(i){return Math.round(i*te)/te||0};function he(x,i,t,e,n,r,l){for(var d=x.length,g,s,m,a,f;--d>-1;)for(g=x[d],s=g.length,m=0;m<s;m+=2)a=g[m],f=g[m+1],g[m]=a*i+f*e+r,g[m+1]=a*t+f*n+l;return x._dirty=1,x}function ge(x,i,t,e,n,r,l,d,g){if(!(x===d&&i===g)){t=G(t),e=G(e);var s=n%360*fe,m=P(s),a=U(s),f=Math.PI,y=f*2,u=(x-d)/2,h=(i-g)/2,w=m*u+a*h,p=-a*u+m*h,o=w*w,v=p*p,E=o/(t*t)+v/(e*e);E>1&&(t=D(E)*t,e=D(E)*e);var I=t*t,b=e*e,_=(I*b-I*v-b*o)/(I*v+b*o);_<0&&(_=0);var X=(r===l?-1:1)*D(_),S=X*(t*p/e),C=X*-(e*w/t),$=(x+d)/2,z=(i+g)/2,J=$+(m*S-a*C),Se=z+(a*S+m*C),V=(w-S)/t,W=(p-C)/e,le=(-w-S)/t,de=(-p-C)/e,ye=V*V+W*W,xe=(W<0?-1:1)*Math.acos(V/D(ye)),q=(V*de-W*le<0?-1:1)*Math.acos((V*le+W*de)/D(ye*(le*le+de*de)));isNaN(q)&&(q=f),!l&&q>0?q-=y:l&&q<0&&(q+=y),xe%=y,q%=y;var we=Math.ceil(G(q)/(y/4)),F=[],ue=q/we,me=4/3*U(ue/2)/(1+P(ue/2)),_e=m*t,Ce=a*t,De=a*-e,Xe=m*e,T;for(T=0;T<we;T++)n=xe+T*ue,w=P(n),p=U(n),V=P(n+=ue),W=U(n),F.push(w-me*p,p+me*w,V+me*W,W-me*V,V,W);for(T=0;T<F.length;T+=2)w=F[T],p=F[T+1],F[T]=w*_e+p*De+J,F[T+1]=w*Ce+p*Xe+Se;return F[T-2]=d,F[T-1]=g,F}}function pe(x){var i=(x+"").replace(ee,function(S){var C=+S;return C<1e-4&&C>-1e-4?0:C}).match(k)||[],t=[],e=0,n=0,r=2/3,l=i.length,d=0,g="ERROR: malformed path: "+x,s,m,a,f,y,u,h,w,p,o,v,E,I,b,_,X=function(C,$,z,J){o=(z-C)/3,v=(J-$)/3,h.push(C+o,$+v,z-o,J-v,z,J)};if(!x||!isNaN(i[0])||isNaN(i[1]))return t;for(s=0;s<l;s++)if(I=y,isNaN(i[s])?(y=i[s].toUpperCase(),u=y!==i[s]):s--,a=+i[s+1],f=+i[s+2],u&&(a+=e,f+=n),s||(w=a,p=f),y==="M")h&&(h.length<8?t.length-=1:d+=h.length),e=w=a,n=p=f,h=[a,f],t.push(h),s+=2,y="L";else if(y==="C")h||(h=[0,0]),u||(e=n=0),h.push(a,f,e+i[s+3]*1,n+i[s+4]*1,e+=i[s+5]*1,n+=i[s+6]*1),s+=6;else if(y==="S")o=e,v=n,(I==="C"||I==="S")&&(o+=e-h[h.length-4],v+=n-h[h.length-3]),u||(e=n=0),h.push(o,v,a,f,e+=i[s+3]*1,n+=i[s+4]*1),s+=4;else if(y==="Q")o=e+(a-e)*r,v=n+(f-n)*r,u||(e=n=0),e+=i[s+3]*1,n+=i[s+4]*1,h.push(o,v,e+(a-e)*r,n+(f-n)*r,e,n),s+=4;else if(y==="T")o=e-h[h.length-4],v=n-h[h.length-3],h.push(e+o,n+v,a+(e+o*1.5-a)*r,f+(n+v*1.5-f)*r,e=a,n=f),s+=2;else if(y==="H")X(e,n,e=a,n),s+=1;else if(y==="V")X(e,n,e,n=a+(u?n-e:0)),s+=1;else if(y==="L"||y==="Z")y==="Z"&&(a=w,f=p,h.closed=!0),(y==="L"||G(e-a)>.5||G(n-f)>.5)&&(X(e,n,a,f),y==="L"&&(s+=2)),e=a,n=f;else if(y==="A"){if(b=i[s+4],_=i[s+5],o=i[s+6],v=i[s+7],m=7,b.length>1&&(b.length<3?(v=o,o=_,m--):(v=_,o=b.substr(2),m-=2),_=b.charAt(1),b=b.charAt(0)),E=ge(e,n,+i[s+1],+i[s+2],+i[s+3],+b,+_,(u?e:0)+o*1,(u?n:0)+v*1),s+=m,E)for(m=0;m<E.length;m++)h.push(E[m]);e=h[h.length-2],n=h[h.length-1]}return s=h.length,s<6?(t.pop(),s=0):h[0]===h[s-2]&&h[1]===h[s-1]&&(h.closed=!0),t.totalPoints=d+s,t}function ve(x){N(x[0])&&(x=[x]);var i="",t=x.length,e,n,r,l;for(n=0;n<t;n++){for(l=x[n],i+="M"+c(l[0])+","+c(l[1])+" C",e=l.length,r=2;r<e;r++)i+=c(l[r++])+","+c(l[r++])+" "+c(l[r++])+","+c(l[r++])+" "+c(l[r++])+","+c(l[r])+" ";l.closed&&(i+="z")}return i}var M,ne,ie=function(){return M||typeof window<"u"&&(M=window.gsap)&&M.registerPlugin&&M},Q=function(){M=ie(),M&&(M.registerEase("_CE",H.create),ne=1)},Z=1e20,O=function(i){return~~(i*1e3+(i<0?-.5:.5))/1e3},re=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,se=/[cLlsSaAhHvVtTqQ]/g,oe=function(i){var t=i.length,e=Z,n;for(n=1;n<t;n+=6)+i[n]<e&&(e=+i[n]);return e},ae=function(i,t,e){!e&&e!==0&&(e=Math.max(+i[i.length-1],+i[1]));var n=+i[0]*-1,r=-e,l=i.length,d=1/(+i[l-2]+n),g=-t||(Math.abs(+i[l-1]-+i[1])<.01*(+i[l-2]-+i[0])?oe(i)+r:+i[l-1]+r),s;for(g?g=1/g:g=-d,s=0;s<l;s+=2)i[s]=(+i[s]+n)*d,i[s+1]=(+i[s+1]+r)*g},ce=function x(i,t,e,n,r,l,d,g,s,m,a){var f=(i+e)/2,y=(t+n)/2,u=(e+r)/2,h=(n+l)/2,w=(r+d)/2,p=(l+g)/2,o=(f+u)/2,v=(y+h)/2,E=(u+w)/2,I=(h+p)/2,b=(o+E)/2,_=(v+I)/2,X=d-i,S=g-t,C=Math.abs((e-d)*S-(n-g)*X),$=Math.abs((r-d)*S-(l-g)*X),z;return m||(m=[{x:i,y:t},{x:d,y:g}],a=1),m.splice(a||m.length-1,0,{x:b,y:_}),(C+$)*(C+$)>s*(X*X+S*S)&&(z=m.length,x(i,t,f,y,o,v,b,_,s,m,a),x(b,_,E,I,w,p,d,g,s,m,a+1+(m.length-z))),m},H=(function(){function x(t,e,n){ne||Q(),this.id=t,this.setData(e,n)}var i=x.prototype;return i.setData=function(e,n){n=n||{},e=e||"0,0,1,1";var r=e.match(re),l=1,d=[],g=[],s=n.precision||1,m=s<=1,a,f,y,u,h,w,p,o,v;if(this.data=e,(se.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(r=pe(e)[0]),a=r.length,a===4)r.unshift(0,0),r.push(1,1),a=8;else if((a-2)%6)throw"Invalid CustomEase";for((+r[0]!=0||+r[a-2]!=1)&&ae(r,n.height,n.originY),this.segment=r,u=2;u<a;u+=6)f={x:+r[u-2],y:+r[u-1]},y={x:+r[u+4],y:+r[u+5]},d.push(f,y),ce(f.x,f.y,+r[u],+r[u+1],+r[u+2],+r[u+3],y.x,y.y,1/(s*2e5),d,d.length-1);for(a=d.length,u=0;u<a;u++)p=d[u],o=d[u-1]||p,(p.x>o.x||o.y!==p.y&&o.x===p.x||p===o)&&p.x<=1?(o.cx=p.x-o.x,o.cy=p.y-o.y,o.n=p,o.nx=p.x,m&&u>1&&Math.abs(o.cy/o.cx-d[u-2].cy/d[u-2].cx)>2&&(m=0),o.cx<l&&(o.cx?l=o.cx:(o.cx=.001,u===a-1&&(o.x-=.001,l=Math.min(l,.001),m=0)))):(d.splice(u--,1),a--);if(a=1/l+1|0,h=1/a,w=0,p=d[0],m){for(u=0;u<a;u++)v=u*h,p.nx<v&&(p=d[++w]),f=p.y+(v-p.x)/p.cx*p.cy,g[u]={x:v,cx:h,y:f,cy:0,nx:9},u&&(g[u-1].cy=f-g[u-1].y);w=d[d.length-1],g[a-1].cy=w.y-f,g[a-1].cx=w.x-g[g.length-1].x}else{for(u=0;u<a;u++)p.nx<u*h&&(p=d[++w]),g[u]=p;w<d.length-1&&(g[u-1]=d[d.length-2])}return this.ease=function(E){var I=g[E*a|0]||g[a-1];return I.nx<E&&(I=I.n),I.y+(E-I.x)/I.cx*I.cy},this.ease.custom=this,this.id&&M&&M.registerEase(this.id,this.ease),this},i.getSVGData=function(e){return x.getSVGData(this,e)},x.create=function(e,n,r){return new x(e,n,r).ease},x.register=function(e){M=e,Q()},x.get=function(e){return M.parseEase(e)},x.getSVGData=function(e,n){n=n||{};var r=n.width||100,l=n.height||100,d=n.x||0,g=(n.y||0)+l,s=M.utils.toArray(n.path)[0],m,a,f,y,u,h,w,p,o,v;if(n.invert&&(l=-l,g=0),typeof e=="string"&&(e=M.parseEase(e)),e.custom&&(e=e.custom),e instanceof x)m=ve(he([e.segment],r,0,0,-l,d,g));else{for(m=[d,g],w=Math.max(5,(n.precision||1)*200),y=1/w,w+=2,p=5/w,o=O(d+y*r),v=O(g+e(y)*-l),a=(v-g)/(o-d),f=2;f<w;f++)u=O(d+f*y*r),h=O(g+e(f*y)*-l),(Math.abs((h-v)/(u-o)-a)>p||f===w-1)&&(m.push(o,v),a=(h-v)/(u-o)),o=u,v=h;m="M"+m.join(",")}return s&&s.setAttribute("d",m),m},x})();H.version="3.13.0",H.headless=!0,ie()&&M.registerPlugin(H),Y.CustomEase=H,Y.default=H,Object.defineProperty(Y,"__esModule",{value:!0})}))})(K,K.exports)),K.exports}var Me=Re();let be;function Pe(){const A=j.useRef(null),B=j.useRef(null),Y=j.useRef(null),k=j.useRef(null);j.useRef(null);const[ee,fe]=j.useState(!1);j.useEffect(()=>{const t=async()=>{be=(await Te(()=>import("./index-WdDmtzZ1.js"),[],import.meta.url)).default,setTimeout(()=>{i(),fe(!0)},10)};return L.registerPlugin(Me.CustomEase),Me.CustomEase.create("hop","0.9, 0, 0.1, 1"),t(),()=>{A.current&&(A.current.removeEventListener("mousedown",O),A.current.removeEventListener("touchstart",oe)),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",se),window.removeEventListener("touchmove",ae),window.removeEventListener("touchend",ce),window.removeEventListener("resize",x),c.current.animationFrameId&&(cancelAnimationFrame(c.current.animationFrameId),c.current.animationFrameId=null),c.current.expandedItem&&c.current.expandedItem.parentNode&&(document.body.removeChild(c.current.expandedItem),c.current.expandedItem=null),Y.current&&Y.current.classList.remove("active"),c.current.isExpanded=!1,c.current.activeItem=null,c.current.originalPosition=null,c.current.activeItemId=null,c.current.canDrag=!0,c.current.titleSplit&&(c.current.titleSplit.revert(),c.current.titleSplit=null)}},[]),j.useEffect(()=>{ee&&B.current&&!c.current.animationFrameId&&Z()},[ee]),j.useEffect(()=>{const t=()=>{c.current.expandedItem&&c.current.expandedItem.parentNode&&(document.body.removeChild(c.current.expandedItem),c.current.expandedItem=null),Y.current&&Y.current.classList.remove("active"),c.current.isExpanded=!1,c.current.activeItem=null,c.current.originalPosition=null,c.current.activeItemId=null,c.current.canDrag=!0,c.current.titleSplit&&(c.current.titleSplit.revert(),c.current.titleSplit=null)},e=()=>{document.hidden&&t()},n=()=>{t()};return document.addEventListener("visibilitychange",e),window.addEventListener("beforeunload",n),()=>{t(),document.removeEventListener("visibilitychange",e),window.removeEventListener("beforeunload",n)}},[]);const U=20,P=150,G=4,D=120,N=160,te=125,c=j.useRef({isDragging:!1,startX:0,startY:0,targetX:0,targetY:0,currentX:0,currentY:0,dragVelocityX:0,dragVelocityY:0,lastDragTime:0,mouseHasMoved:!1,visibleItems:new Set,lastUpdateTime:0,lastX:0,lastY:0,isExpanded:!1,activeItem:null,canDrag:!0,originalPosition:null,expandedItem:null,activeItemId:null,titleSplit:null,animationFrameId:null,introAnimationPlayed:!1}),he=t=>{const{titleSplit:e}=c.current,n=k.current.querySelector("p");e&&e.revert(),n.textContent=t,c.current.titleSplit=new be(n,{types:"words"}),L.set(c.current.titleSplit.words,{y:"100%"})},ge=()=>{L.to(c.current.titleSplit.words,{y:"0%",duration:1,stagger:.1,ease:"power3.out"})},pe=()=>{L.to(c.current.titleSplit.words,{y:"-100%",duration:1,stagger:.1,ease:"power3.out"})},ve=()=>{if(c.current.introAnimationPlayed)return;const t=document.querySelectorAll(".item");t.length!==0&&(c.current.introAnimationPlayed=!0,L.to(t,{scale:1,delay:1,duration:.5,stagger:{amount:1,from:"random"},ease:"power1.out"}))},M=()=>{const t=c.current,e=B.current;if(!e)return;const n=window.innerWidth<=1e3,r=n?.8:1.5,l=window.innerWidth*(1+r),d=window.innerHeight*(1+r),g=t.targetX>t.currentX,s=t.targetY>t.currentY,m=g?n?-100:-200:n?100:200,a=s?n?-100:-200:n?100:200,f=Math.floor((-t.currentX-l/2+(g?m:0))/(D+P)),y=Math.ceil((-t.currentX+l*(n?1:1.2)+(g?0:m))/(D+P)),u=Math.floor((-t.currentY-d/2+(s?a:0))/(N+P)),h=Math.ceil((-t.currentY+d*(n?1:1.2)+(s?0:a))/(N+P)),w=new Set;let p=!1;for(let o=u;o<=h;o++)for(let v=f;v<=y;v++){const E=`${v},${o}`;if(w.add(E),t.visibleItems.has(E)||t.activeItemId===E&&t.isExpanded)continue;const I=document.createElement("div");I.className="item",I.id=E;const _=o%2===0?te:0;I.style.left=`${v*(D+P)+_}px`,I.style.top=`${o*(N+P)}px`,I.dataset.col=v,I.dataset.row=o,t.introAnimationPlayed||L.set(I,{scale:0});const X=Math.abs(o*G+v)%U+1,S=document.createElement("img");S.src=`/archive/archive-${X}.jpg`,S.alt=`Image ${X}`,I.appendChild(S),I.addEventListener("click",C=>{t.mouseHasMoved||t.isDragging||ne(I)}),e.appendChild(I),t.visibleItems.add(E),p=!0}t.visibleItems.forEach(o=>{if(!w.has(o)||t.activeItemId===o&&t.isExpanded){const v=document.getElementById(o);v&&e.contains(v)&&e.removeChild(v),t.visibleItems.delete(o)}}),p&&!t.introAnimationPlayed&&ve()},ne=t=>{const e=c.current;e.isExpanded?e.expandedItem&&Q():ie(t)},ie=t=>{const e=c.current,n=A.current,r=Y.current;e.isExpanded=!0,e.activeItem=t,e.activeItemId=t.id,e.canDrag=!1,n.style.cursor="auto";const d=t.querySelector("img").src.match(/\/img(\d+)\.jpg/),s=((d?parseInt(d[1]):1)-1)%Ie.length;he(Ie[s]),t.style.visibility="hidden";const m=t.getBoundingClientRect(),a=t.querySelector("img").src;e.originalPosition={id:t.id,rect:m,imgSrc:a},r.classList.add("active");const f=document.createElement("div");f.className="expanded-item",f.style.width=`${D}px`,f.style.height=`${N}px`;const y=document.createElement("img");y.src=a,f.appendChild(y),f.addEventListener("click",Q),document.body.appendChild(f),e.expandedItem=f,document.querySelectorAll(".item").forEach(o=>{o!==e.activeItem&&L.to(o,{opacity:0,duration:.3,ease:"power2.out"})});const u=window.innerWidth,h=window.innerWidth<=1e3,w=u*(h?.75:.4),p=w*1.2;L.delayedCall(.5,ge),L.fromTo(f,{width:D,height:N,x:m.left+D/2-window.innerWidth/2,y:m.top+N/2-window.innerHeight/2},{width:w,height:p,x:0,y:0,duration:1,ease:"hop"})},Q=()=>{const t=c.current,e=A.current,n=Y.current;if(!t.expandedItem||!t.originalPosition)return;pe(),n.classList.remove("active");const r=t.originalPosition.rect;document.querySelectorAll(".item").forEach(d=>{d.id!==t.activeItemId&&L.to(d,{opacity:1,duration:.5,delay:.5,ease:"power2.out"})});const l=document.getElementById(t.activeItemId);L.to(t.expandedItem,{width:D,height:N,x:r.left+D/2-window.innerWidth/2,y:r.top+N/2-window.innerHeight/2,duration:1,ease:"hop",onComplete:()=>{t.expandedItem&&t.expandedItem.parentNode&&document.body.removeChild(t.expandedItem),l&&(l.style.visibility="visible"),t.expandedItem=null,t.isExpanded=!1,t.activeItem=null,t.originalPosition=null,t.activeItemId=null,t.canDrag=!0,e.style.cursor="grab",t.dragVelocityX=0,t.dragVelocityY=0}})},Z=()=>{const t=c.current,e=B.current;if(e){if(t.canDrag){t.currentX+=(t.targetX-t.currentX)*.085,t.currentY+=(t.targetY-t.currentY)*.085,e.style.transform=`translate3d(${t.currentX}px, ${t.currentY}px, 0)`;const r=Date.now(),l=Math.sqrt(Math.pow(t.currentX-t.lastX,2)+Math.pow(t.currentY-t.lastY,2)),d=window.innerWidth<=1e3,g=d?100:80,s=d?150:100;(l>g||r-t.lastUpdateTime>s)&&(M(),t.lastX=t.currentX,t.lastY=t.currentY,t.lastUpdateTime=r)}t.animationFrameId=requestAnimationFrame(Z)}},O=t=>{const e=c.current;e.canDrag&&(e.isDragging=!0,e.mouseHasMoved=!1,e.startX=t.clientX,e.startY=t.clientY,A.current.style.cursor="grabbing")},re=t=>{const e=c.current;if(!e.isDragging||!e.canDrag)return;const n=t.clientX-e.startX,r=t.clientY-e.startY;(Math.abs(n)>5||Math.abs(r)>5)&&(e.mouseHasMoved=!0);const l=Date.now(),d=Math.max(10,l-e.lastDragTime);e.lastDragTime=l,e.dragVelocityX=n/d,e.dragVelocityY=r/d,e.targetX+=n,e.targetY+=r,e.startX=t.clientX,e.startY=t.clientY},se=t=>{const e=c.current;e.isDragging&&(e.isDragging=!1,e.canDrag&&(A.current.style.cursor="grab",(Math.abs(e.dragVelocityX)>.1||Math.abs(e.dragVelocityY)>.1)&&(e.targetX+=e.dragVelocityX*200,e.targetY+=e.dragVelocityY*200)))},oe=t=>{const e=c.current;e.canDrag&&(e.isDragging=!0,e.mouseHasMoved=!1,e.startX=t.touches[0].clientX,e.startY=t.touches[0].clientY)},ae=t=>{const e=c.current;if(!e.isDragging||!e.canDrag)return;const n=t.touches[0].clientX-e.startX,r=t.touches[0].clientY-e.startY;(Math.abs(n)>5||Math.abs(r)>5)&&(e.mouseHasMoved=!0);const l=1.5;e.targetX+=n*l,e.targetY+=r*l,e.startX=t.touches[0].clientX,e.startY=t.touches[0].clientY},ce=()=>{c.current.isDragging=!1},H=()=>{c.current.isExpanded&&Q()},x=()=>{const t=c.current;if(t.isExpanded&&t.expandedItem){const e=window.innerWidth,n=window.innerWidth<=768,r=e*(n?.6:.4),l=r*1.2;L.to(t.expandedItem,{width:r,height:l,duration:.3,ease:"power2.out"})}else M()},i=()=>{const t=A.current,e=Y.current;!t||!e||(c.current.animationFrameId&&(cancelAnimationFrame(c.current.animationFrameId),c.current.animationFrameId=null),t.addEventListener("mousedown",O),window.addEventListener("mousemove",re),window.addEventListener("mouseup",se),t.addEventListener("touchstart",oe,{passive:!0}),window.addEventListener("touchmove",ae,{passive:!0}),window.addEventListener("touchend",ce),window.addEventListener("resize",x),e.addEventListener("click",H),M(),c.current.animationFrameId||Z())};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"gallery-container",ref:A,children:[R.jsx("div",{className:"canvas",id:"canvas",ref:B}),R.jsx("div",{className:"overlay",id:"overlay",ref:Y})]}),R.jsx("div",{className:"project-title",ref:k,children:R.jsx("p",{})})]})}const Fe=()=>R.jsxs(R.Fragment,{children:[R.jsx(Ye,{}),R.jsx("div",{className:"page blueprints",children:R.jsx(Pe,{})})]});export{Fe as default};
