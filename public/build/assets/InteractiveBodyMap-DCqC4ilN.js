import{j as e,m as n,A as h}from"./ui-DBH1pSc7.js";import{r as x}from"./vendor-CFFqWigg.js";import{g as o}from"./animations-D2IpGxFF.js";import{a as f}from"./index-B-YuXKuw.js";const y={face:{id:"face",label:"Visage",target:{x:48,y:12},labelPos:{x:15,y:12},subcategories:{lips:{label:"Lèvres",types:{augmentation:{label:"Augmentation",refinements:["Naturelle","Modérée","Volumineuse"]},hydration:{label:"Hydratation",refinements:["Glow","Deep"]}}},nose:{label:"Nez",types:{rhinoplasty:{label:"Rhinoplastie",refinements:["Esthétique","Fonctionnelle"]}}},eyes:{label:"Yeux",types:{blepharoplasty:{label:"Blépharoplastie",refinements:["Supérieure","Inférieure","Complète"]},foxeyes:{label:"Fox Eyes",refinements:["Fils Tenseurs","Chirurgie"]}}},face_lift:{label:"Lifting",types:{cervico_facial:{label:"Cervico-facial",refinements:[]},mini_lift:{label:"Mini-lift",refinements:[]}}}}},breast:{id:"breast",label:"Poitrine",target:{x:50,y:32},labelPos:{x:80,y:32},subcategories:{augmentation:{label:"Augmentation",types:{implants:{label:"Implants",refinements:["Ronds","Anatomiques"]},lipofilling:{label:"Lipofilling",refinements:["Naturel"]}}},lift:{label:"Lifting (Mastopexie)",types:{with_implants:{label:"Avec Implants",refinements:[]},without_implants:{label:"Sans Implants",refinements:[]}}},reduction:{label:"Réduction",types:{standard:{label:"Standard",refinements:[]}}}}},waist:{id:"waist",label:"Silhouette",target:{x:50,y:48},labelPos:{x:15,y:48},subcategories:{liposuction:{label:"Liposuccion",types:{abdomen:{label:"Ventre",refinements:[]},flanks:{label:"Hanches",refinements:[]},thighs:{label:"Cuisses",refinements:[]},full_body:{label:"Complète 360°",refinements:[]}}},tummyTuck:{label:"Abdominoplastie",types:{mini:{label:"Mini",refinements:[]},full:{label:"Complète",refinements:[]}}},bbl:{label:"BBL",types:{standard:{label:"Lipofilling Fessier",refinements:[]}}}}},hair:{id:"hair",label:"Cheveux",target:{x:50,y:5},labelPos:{x:80,y:5},subcategories:{transplant:{label:"Greffe Capillaire",types:{fue:{label:"Technique FUE",refinements:[]},dhi:{label:"Technique DHI",refinements:[]}}},beard:{label:"Greffe Barbe",types:{standard:{label:"Standard",refinements:[]}}}}}};function z({imageSrc:g="/images/body-placeholder.png"}){const[a,r]=x.useState("intro"),[l,d]=x.useState({zone:null,subcategory:null,type:null,refinement:null}),[c,p]=x.useState({name:"",phone:""}),m=x.useRef(null);f(()=>{if(a==="intro"){const t=o.timeline({onComplete:()=>r("selection")});o.set(".arrow-path",{strokeDasharray:500,strokeDashoffset:500,opacity:1}),o.set(".zone-label",{opacity:0,x:(s,i)=>i.dataset.side==="left"?-20:20}),o.set(".zone-dot",{scale:0}),t.to(".zone-label",{opacity:1,x:0,duration:.6,stagger:.1,ease:"power2.out"}),t.to(".zone-dot",{scale:1,duration:.4,stagger:.1,ease:"back.out(1.7)"},"-=0.4"),t.to(".arrow-path",{strokeDashoffset:0,duration:1.2,stagger:.1,ease:"power2.inOut"},"-=0.8")}},{scope:m}),f(()=>{a==="subcategory"?o.to(m.current,{xPercent:-10,scale:.95,duration:.8,ease:"power3.inOut"}):a==="selection"&&o.to(m.current,{xPercent:0,scale:1,duration:.8,ease:"power3.inOut"})},[a]);const j=t=>{d({...l,zone:t}),r("subcategory")},b=(t,s,i)=>{d(u=>({...u,[t]:s})),r(i)},w=t=>{t.preventDefault(),r("success")},v=(t,s)=>{const i=t.x<50,u=(t.x+s.x)/2,N=i?t.x+10:t.x-10,k=t.y;return`M ${t.x} ${t.y} C ${N} ${k}, ${u} ${s.y}, ${s.x} ${s.y}`};return e.jsxs("section",{className:"relative  w-full min-h-screen  overflow-hidden flex flex-col md:flex-row",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"absolute top-0 left-1/2 -translate-x-1/2 text-center pointer-events-none",children:[e.jsx("h2",{className:"text-3xl md:text-4xl tracking-normal! text-white drop-shadow-lg",children:"Sélectionnez une zone"}),e.jsx("p",{className:"text-white/80 mt-2",children:"Cliquez sur les points pour commencer"})]},"selection"),e.jsx("div",{className:`relative top-20 flex-1 flex items-center justify-center transition-all duration-700 ease-in-out ${a!=="selection"&&a!=="intro"?"md:w-1/2 opacity-50 md:opacity-100":"w-full"}`,children:e.jsxs("div",{ref:m,className:"relative max-w-4xl  mx-auto flex items-center justify-center",children:[e.jsx("img",{src:g,alt:"Body Map",className:"h-full! object-contain border-solid border-1 border-white/50 px-24! max-h-[80vh]"}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-10",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:e.jsx("path",{d:"M0,0 L0,6 L6,3 z",className:"fill-gold"})})}),Object.values(y).map(t=>e.jsx("g",{children:e.jsx("path",{d:v(t.labelPos,t.target),className:"arrow-path stroke-gold fill-none",strokeWidth:"0.3",markerEnd:"url(#arrowhead)"})},t.id))]}),Object.values(y).map(t=>e.jsx("button",{"data-side":t.labelPos.x<50?"left":"right",onClick:()=>j(t),className:"zone-label absolute transform -translate-y-1/2 bg-black/80 border border-gold/30 text-white px-4! py-2! rounded-full hover:bg-gold hover:text-black transition-all duration-300 z-20 shadow-[0_0_15px_rgba(0,0,0,0.5)]",style:{left:`${t.labelPos.x}%`,top:`${t.labelPos.y}%`,transform:`translate(-${t.labelPos.x>50?"0":"100"}%, -50%)`},children:e.jsx("span",{className:" text-sm md:text-lg whitespace-nowrap",children:t.label})},t.id))]})}),e.jsx(h,{mode:"wait",children:["subcategory","type","refinement","form","success"].includes(a)&&e.jsxs(n.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"absolute md:relative inset-0 md:inset-auto md:w-1/2 bg-zinc-900/95 backdrop-blur-xl border-l border-white/10 z-50 flex flex-col justify-center p-8! md:p-16! overflow-y-auto",children:[a!=="success"&&e.jsxs("div",{className:"flex justify-between items-center mb-8! border-b border-white/10 pb-6!",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl  text-white mb-1!",children:l.zone?.label}),e.jsxs("p",{className:"text-gold text-sm",children:["Étape"," ",["subcategory","type","refinement","form"].indexOf(a)+1,"/4"]})]}),e.jsx("button",{onClick:()=>{r("selection"),d({})},className:"text-sm text-gray-400 hover:text-white flex items-center gap-2!",children:"Retour"})]}),e.jsx("div",{className:"max-w-md mx-auto! w-full",children:e.jsxs(h,{mode:"wait",children:[a==="subcategory"&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4!",children:[e.jsx("p",{className:"text-xl text-gray-300 mb-6!",children:"Que souhaitez-vous traiter ?"}),Object.entries(l.zone.subcategories).map(([t,s])=>e.jsxs("button",{onClick:()=>b("subcategory",s,"type"),className:"w-full text-left p-6! rounded-xl bg-white/5 hover:bg-gold/20 border border-white/10 hover:border-gold/50 transition-all text-white group flex justify-between items-center",children:[e.jsx("span",{className:"text-lg",children:s.label}),e.jsx("span",{className:"text-gold opacity-0 group-hover:opacity-100 transition-opacity",children:"→"})]},t))]},"subcategory"),a==="type"&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4!",children:[e.jsx("p",{className:"text-xl text-gray-300 mb-6!",children:"Précisez votre besoin :"}),Object.entries(l.subcategory.types).map(([t,s])=>e.jsxs("button",{onClick:()=>{const i=s.refinements&&s.refinements.length>0?"refinement":"form";b("type",s,i)},className:"w-full text-left p-6! rounded-xl bg-white/5 hover:bg-gold/20 border border-white/10 hover:border-gold/50 transition-all text-white group flex justify-between items-center",children:[e.jsx("span",{className:"text-lg",children:s.label}),e.jsx("span",{className:"text-gold opacity-0 group-hover:opacity-100 transition-opacity",children:"→"})]},t))]},"type"),a==="refinement"&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4!",children:[e.jsx("p",{className:"text-xl text-gray-300 mb-6!",children:"Quelle préférence ?"}),l.type.refinements.map(t=>e.jsxs("button",{onClick:()=>b("refinement",t,"form"),className:"w-full text-left p-6! rounded-xl bg-white/5 hover:bg-gold/20 border border-white/10 hover:border-gold/50 transition-all text-white group flex justify-between items-center",children:[e.jsx("span",{className:"text-lg",children:t}),e.jsx("span",{className:"text-gold opacity-0 group-hover:opacity-100 transition-opacity",children:"→"})]},t))]},"refinement"),a==="form"&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs("form",{onSubmit:w,className:"space-y-6!",children:[e.jsx("p",{className:"text-xl text-gray-300 mb-6!",children:"Vos coordonnées pour recevoir votre plan :"}),e.jsx("div",{className:"space-y-2!",children:e.jsx("input",{required:!0,type:"text",value:c.name,onChange:t=>p({...c,name:t.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4! text-white focus:border-gold outline-none transition-colors",placeholder:"Nom complet"})}),e.jsx("div",{className:"space-y-2!",children:e.jsx("input",{required:!0,type:"tel",value:c.phone,onChange:t=>p({...c,phone:t.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4! text-white focus:border-gold outline-none transition-colors",placeholder:"Téléphone"})}),e.jsx("button",{type:"submit",className:"w-full py-4! bg-gold text-white text-lg rounded-xl hover:bg-secondaryGold transition-colors shadow-[0_0_20px_rgba(212,175,55,0.3)]",children:"Obtenir mon devis gratuit"})]})},"form"),a==="success"&&e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gold/20 rounded-full flex items-center justify-center mx-auto mb-6!",children:e.jsx("span",{className:"text-4xl text-gold",children:"✓"})}),e.jsx("h3",{className:"text-3xl  text-white mb-4",children:"Demande Reçue"}),e.jsxs("p",{className:"text-gray-400 mb-8",children:["Merci ",c.name,". Votre demande a bien été enregistrée."]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6! text-left space-y-3! mb-8! border border-white/10",children:[e.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2!",children:[e.jsx("span",{className:"text-gray-400",children:"Zone"}),e.jsx("span",{className:"text-gold",children:l.zone?.label})]}),e.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-2!",children:[e.jsx("span",{className:"text-gray-400",children:"Type"}),e.jsx("span",{className:"text-white",children:l.subcategory?.label})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Détail"}),e.jsx("span",{className:"text-white",children:l.type?.label})]})]}),e.jsx("button",{onClick:()=>{r("selection"),d({}),p({name:"",phone:""})},className:"text-gold hover:text-white underline underline-offset-4",children:"Terminer"})]},"success")]})})]},"panel")})]})}export{z as default};
