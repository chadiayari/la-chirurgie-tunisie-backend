import{j as n}from"./ui-DBH1pSc7.js";import{r as s}from"./vendor-CFFqWigg.js";import{g as a}from"./animations-D2IpGxFF.js";import{c as h}from"./index-B-YuXKuw.js";const f=[{id:1,name:"Sarah L.",title:"Patiente - France",image:"/client-reviews/client-review-1.jpg",avatar:"/clients/client-1.jpg",review:"J'ai retrouvé confiance en moi grâce à l'équipe de SM Medical. L'opération s'est parfaitement déroulée et le suivi était impeccable."},{id:2,name:"Marc D.",title:"Patient - Belgique",image:"/client-reviews/client-review-2.jpg",avatar:"/clients/client-2.jpg",review:"Un séjour inoubliable. L'hôtel était magnifique et le résultat de ma greffe de cheveux est au-delà de mes espérances."},{id:3,name:"Sophie M.",title:"Patiente - Suisse",image:"/client-reviews/client-review-3.jpg",avatar:"/clients/client-3.jpg",review:"Des prix très compétitifs pour une qualité de soin équivalente voire supérieure à ce que j'ai connu en Suisse. Je recommande vivement."},{id:4,name:"Amélie R.",title:"Patiente - Canada",image:"/client-reviews/client-review-4.jpg",avatar:"/clients/client-4.jpg",review:"Merci au Dr Zili pour son professionnalisme. Je suis ravie de ma rhinoplastie. Tout était parfaitement organisé."},{id:5,name:"Julie B.",title:"Patiente - France",image:"/client-reviews/client-review-5.jpg",avatar:"/clients/client-5.jpg",review:"Une prise en charge VIP du début à la fin. Je me suis sentie en sécurité et écoutée. Merci à toute l'équipe."}],W=()=>{const[u,j]=s.useState(0),[v,x]=s.useState(0),[y,C]=s.useState(!1),o=s.useRef([]),w=s.useRef(null),l=s.useRef(null),e=s.useRef(null),c=s.useRef([]),g=s.useRef(null),d=s.useRef(null),R=()=>{if(!w.current)return"10rem";const t=w.current.offsetWidth,i=16,r=4,m=48,p=f.length-1;return`${t-i-m*p-r*p}px`},S=t=>{if(!g.current)return;const i=document.createElement("img");return i.src=t,i.alt="",i.style.opacity="0",g.current.appendChild(i),a.to(i,{opacity:1,duration:1,delay:.5,ease:"power2.out",onComplete:()=>{g.current.querySelectorAll("img").forEach(m=>{m!==i&&m.remove()})}})};s.useEffect(()=>{if(a.set(o.current,{width:"3rem"}),a.set(c.current,{opacity:0}),o.current[0]){const i=R();a.to(o.current[0],{width:i,duration:.75,ease:"power4.inOut"})}c.current[0]&&a.to(c.current[0],{opacity:1,duration:.3,ease:"power2.out"});const t=setTimeout(()=>{l.current&&(e.current=h.create(l.current,{type:"lines",mask:"lines"}),e.current&&e.current.lines&&(a.set(e.current.lines,{y:"110%"}),a.to(e.current.lines,{y:"0%",duration:.5,stagger:.05,ease:"power4.out"})))},100);return()=>{clearTimeout(t),e.current&&(e.current.revert(),e.current=null)}},[]),s.useEffect(()=>{e.current&&l.current&&(e.current&&e.current.revert(),e.current=h.create(l.current,{type:"lines",mask:"lines"}),e.current.lines&&(a.set(e.current.lines,{y:"110%"}),a.to(e.current.lines,{y:"0%",duration:.5,stagger:.05,ease:"power4.out"})))},[u]),s.useEffect(()=>{const t=setTimeout(()=>{l.current&&(e.current||(e.current=h.create(l.current,{type:"lines",mask:"lines"})),e.current&&e.current.lines&&(a.set(e.current.lines,{y:"110%"}),a.to(e.current.lines,{y:"0%",duration:.5,stagger:.05,ease:"power4.out"})))},150);return()=>clearTimeout(t)},[]);const N=t=>{if(t===u||y)return;d.current&&d.current.kill(),C(!0);const i=R();d.current=a.timeline();const r=d.current;c.current[v]&&r.to(c.current[v],{opacity:0,duration:.5,ease:"power2.out"},0),r.to(o.current[u],{width:"3rem",duration:.75,ease:"power4.inOut"},0).to(o.current[t],{width:i,duration:.75,ease:"power4.inOut"},0),r.call(()=>{x(t)},[],.2),r.to({},{duration:.1,onComplete:()=>{if(c.current[t]){const p=a.to(c.current[t],{opacity:0,duration:0,ease:"power2.out",onComplete:()=>{a.to(c.current[t],{opacity:1,duration:.5,ease:"power2.out"})}});r.add(p,.5)}}},.5);const m=S(f[t].image);if(r.add(m,0),e.current&&e.current.lines){const p=a.to(e.current.lines,{y:"-110%",duration:.5,stagger:.05,ease:"power4.in",onComplete:()=>{j(t)}});r.add(p,0)}else j(t);r.call(()=>{setTimeout(()=>{C(!1),d.current=null},250)})};return n.jsx("div",{className:"client-reviews",children:n.jsx("div",{className:"container",children:n.jsxs("div",{className:"client-reviews-wrapper",children:[n.jsxs("div",{className:"client-review-content",children:[n.jsx("div",{className:"client-review-img",ref:g,children:n.jsx("img",{src:f[u].image,alt:""})}),n.jsx("div",{className:"client-review-copy ",children:n.jsx("h3",{ref:l,className:"",children:f[u].review},u)})]}),n.jsx("div",{className:"clients-list",ref:w,children:f.map((t,i)=>n.jsxs("div",{ref:r=>o.current[i]=r,className:`client-item ${i===v?"active":""} ${y?"animating":""}`,onClick:()=>N(i),children:[n.jsx("div",{className:"client-avatar",children:n.jsx("img",{src:t.avatar,alt:t.name})}),i===v&&n.jsxs("div",{className:"client-info",ref:r=>c.current[i]=r,style:{opacity:0},children:[n.jsx("p",{className:"client-name md",children:t.name}),n.jsx("p",{className:"client-title",children:t.title})]})]},t.id))})]})})})};export{W as default};
